---
import Layout from '../layouts/Layout.astro';
import { otherArticles } from '../lib/list';
import ArticleCard from '../components/ArticleCard.astro';
import FeaturedArticle from '../components/FeaturedArticle.astro';
import Header from '../components/Header.astro';
import { getImage } from 'astro:assets';
import logo from '../../public/logo.png';
import SocialSharingHeader from '../components/SocialSharingHeader.astro';

const blogDescription = 'In this blog, we discuss some of the unique challenges we meet whilst working for a service provider on enterprise customer projects.';
const socialDescription = `${blogDescription} Who is "we?" -> Software engineers working at Zühlke.`;

const socialImage = await getImage({
  src: logo,
  width: 1200,
  height: 630,
  format: 'png',
  quality: 85,
});
const socialImageUrl = new URL(socialImage.src, Astro.site);
const canonicalURL = new URL(Astro.url.pathname, Astro.site);
---

<Layout>
    <Fragment slot="head">
        <SocialSharingHeader
                title="The Dev Exchange"
                description={socialDescription}
                imageUrl={socialImageUrl}
                canonicalUrl={canonicalURL}/>
        <script is:inline>
          sessionStorage.setItem('dev-ex.hasVisitedHome', 'true');
        </script>
    </Fragment>
    <Header>
        <div class="flex font-display font-medium gap-4 flex-row px-0 mt-0 items-center text-sm sm:text-base">
            the_dev_exchange
        </div>
    </Header>
    <section class="max-w-full lg:max-w-[96rem] mx-auto px-8 mb-10">
        <FeaturedArticle/>
        <div class="border-t border-b border-black dark:border-white py-8 mb-16">
            <div class="max-w-4xl mx-auto">
                <p class="text-sm mb-4 leading-relaxed">{blogDescription}</p>
                <p class="text-sm leading-relaxed">
                    <span class="font-bold">Who is "we?"</span> —&gt; Software engineers working at
                    <a href="https://www.zuehlke.com/" target="_blank" class="underline hover:no-underline">Zühlke</a>.
                </p>
            </div>
        </div>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
          {
            otherArticles.map((post) =>
                    <ArticleCard post={post}/>,
            )
          }
        </div>
    </section>
</Layout>
